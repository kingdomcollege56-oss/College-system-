<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Student Profile</title>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
body{
font-family:Arial;
background:#f2f2f2;
text-align:center;
padding:40px;
}

.box{
background:white;
max-width:350px;
margin:auto;
padding:20px;
border-radius:10px;
box-shadow:0 0 5px gray;
}

input,button{
width:100%;
padding:10px;
margin:8px 0;
}

button{
background:#27ae60;
color:white;
border:none;
border-radius:5px;
cursor:pointer;
}
</style>

</head>

<body>

<div class="box">

<h2>Complete Profile</h2>

<input id="name" placeholder="Full Name">
<input id="course" placeholder="Course">
<input id="level" placeholder="Level">
<input id="semester" placeholder="Semester">

<button onclick="saveProfile()">Save Profile</button>

<p id="msg"></p>

</div>


<script>

const firebaseConfig = {
 apiKey: "AIzaSyAcL_PjNww-ea6d33irNgWbn1EsBq4acTA",
 authDomain: "collegeportal-app.firebaseapp.com",
 databaseURL: "https://collegeportal-app-default-rtdb.firebaseio.com",
 projectId: "collegeportal-app",
 storageBucket: "collegeportal-app.firebasestorage.app",
 messagingSenderId: "266762331631",
 appId: "1:266762331631:web:66ddfbde53d33086ac421a"
};

firebase.initializeApp(firebaseConfig);

const db = firebase.database();

let reg = localStorage.getItem("student");


function saveProfile(){

let name = document.getElementById("name").value;
let course = document.getElementById("course").value;
let level = document.getElementById("level").value;
let semester = document.getElementById("semester").value;

if(!reg){
 alert("Please login first");
 return;
}

if(name==""||course==""||level==""||semester==""){
 alert("Fill all fields");
 return;
}

db.ref("students/"+reg).set({

 name:name,
 course:course,
 level:level,
 semester:semester

})
.then(()=>{

 document.getElementById("msg").innerText="Profile Saved Successfully âœ…";

})
.catch(e=>alert(e));

}

</script>

</body>
</html>

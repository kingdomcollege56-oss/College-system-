<!DOCTYPE html>
<html lang="sw">
<head>
<meta charset="UTF-8">
<title>Kingdom College Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
font-family:Arial;
background:#f2f2f2;
text-align:center;
padding:40px;
}

.box{
background:white;
max-width:350px;
margin:auto;
padding:20px;
border-radius:10px;
box-shadow:0 0 5px gray;
}

input,button{
width:100%;
padding:10px;
margin:8px 0;
}

button{
background:#1e3799;
color:white;
border:none;
border-radius:5px;
cursor:pointer;
}
</style>
</head>

<body>

<div class="box">

<h2>Student Login</h2>

<input id="reg" placeholder="Registration Number">
<input id="pass" type="password" placeholder="Password">

<button onclick="login()">Login</button>
<button onclick="register()">Register</button>

<p id="msg"></p>

</div>


<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>

<script>

const firebaseConfig = {
 apiKey: "AIzaSyAcL_PjNww-ea6d33irNgWbn1EsBq4acTA",
 authDomain: "collegeportal-app.firebaseapp.com",
 databaseURL: "https://collegeportal-app-default-rtdb.firebaseio.com",
 projectId: "collegeportal-app",
 storageBucket: "collegeportal-app.firebasestorage.app",
 messagingSenderId: "266762331631",
 appId: "1:266762331631:web:66ddfbde53d33086ac421a"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();


function register(){

let reg = document.getElementById("reg").value;
let pass = document.getElementById("pass").value;

if(reg==""||pass==""){
alert("Fill all fields");
return;
}

let email = reg + "@kcs.com";

auth.createUserWithEmailAndPassword(email,pass)
.then(()=>{
document.getElementById("msg").innerText="Registered Successfully ✅";
})
.catch(e=>alert(e.message));

}


function login(){

let reg = document.getElementById("reg").value;
let pass = document.getElementById("pass").value;

let email = reg + "@kcs.com";

auth.signInWithEmailAndPassword(email,pass)
.then(()=>{

localStorage.setItem("student",reg);

window.location="student.html";

})
.catch(()=>alert("Wrong Login ❌"));

}

</script>

</body>
</html>

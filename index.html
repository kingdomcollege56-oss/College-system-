<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kingdom College Management System</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<style>
/* GENERAL */
body{
margin:0;
font-family:Arial;
background:#eef3f9;
}
/* HEADER */
header{
background:#0a3d62;
color:white;
padding:25px;
text-align:center;
}
/* NAV */
nav{
background:#1e3799;
display:flex;
justify-content:center;
flex-wrap:wrap;
}
nav a{
color:white;
padding:12px 18px;
text-decoration:none;
font-weight:bold;
}
nav a:hover{
background:#4a69bd;
}
/* HERO */
.hero{
background:#cce5ff;
padding:40px;
text-align:center;
}
/* LOGIN BOX */
.login-box{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
gap:15px;
margin-top:25px;
}
.login-box a{
background:#1e3799;
color:white;
padding:15px;
border-radius:6px;
text-decoration:none;
font-weight:bold;
cursor:pointer;
}
/* SECTIONS */
section{
margin:20px;
padding:25px;
border-radius:10px;
box-shadow:0 0 5px #ccc;
}
/* COLORS */
.about{background:#e3f2fd;}
.courses{background:#e8f5e9;}
.gallery-sec{background:#fffde7;}
.news{background:#fce4ec;}
.map-sec{background:#ede7f6;}
.contact{background:#e0f7fa;}
/* GALLERY */
.gallery{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
gap:10px;
}
.gallery img{
width:100%;
height:150px;
object-fit:cover;
border-radius:5px;
}
/* ANNOUNCE */
.announce{
background:white;
padding:10px;
margin:8px 0;
border-left:5px solid #1e3799;
}
/* FOOTER */
footer{
background:#0a3d62;
color:white;
text-align:center;
padding:15px;
}
/* LOGIN MODAL */
.modal{
display:none;
position:fixed;
top:0; left:0;
width:100%; height:100%;
background:rgba(0,0,0,0.6);
justify-content:center;
align-items:center;
}
.modal-content{
background:white;
padding:25px;
border-radius:10px;
width:300px;
text-align:center;
}
.modal-content input{
width:90%;
padding:10px;
margin:10px 0;
}
.modal-content button{
padding:10px 15px;
background:#1e3799;
color:white;
border:none;
border-radius:5px;
cursor:pointer;
}
.close-btn{
float:right;
cursor:pointer;
color:#333;
}
</style>
</head>

<body>

<!-- HEADER -->
<header>
<h1>Kingdom College Management System</h1>
<p>Kingdom College of Health & Allied Sciences</p>
<p>Mbeya - Kyela | Njia Panda Ipinda, Nyuma ya Lake Oil</p>
<p>üìû +255(0)785705151 | +255(0)735705151</p>
</header>

<!-- NAV -->
<nav>
<a href="#home">Home</a>
<a href="#about">About</a>
<a href="#courses">Courses</a>
<a href="#gallery">Gallery</a>
<a href="#news">News</a>
<a href="#map">Map</a>
<a href="#contact">Contact</a>
</nav>

<!-- HERO -->
<div class="hero" id="home">
<h2>Welcome to Kingdom College</h2>
<p>Building Future Health Professionals</p>

<div class="login-box">
<a id="studentLoginBtn">Student Portal</a>
<a id="lecturerLoginBtn">Lecturer Portal</a>
<a id="academicsLoginBtn">Academic Affairs</a>
<a id="bursarLoginBtn">Bursar Office</a>
<a id="counsellorLoginBtn">Counselling Unit</a>
<a id="registrarLoginBtn">Registrar Office</a>
<a id="rectorLoginBtn">Rector Panel</a>
</div>
</div>

<!-- ABOUT -->
<section id="about" class="about">
<h2>About Our College</h2>
<p>Kingdom College of Health and Allied Sciences offers professional training in medical sciences.</p>
<h3>History</h3>
<p id="history">(Updated by Rector)</p>
</section>

<!-- COURSES -->
<section id="courses" class="courses">
<h2>Courses Offered</h2>
<ul>
<li>Clinical Medicine (Level 4 - Level 6)</li>
<li>Nursing Assistant</li>
</ul>
<h3>Entry Requirements (Clinical Medicine)</h3>
<p>Form Six or Form Four with D in Biology, Chemistry and Physics</p>
</section>

<!-- GALLERY -->
<section id="gallery" class="gallery-sec">
<h2>College Gallery</h2>
<div class="gallery">
<img src="https://via.placeholder.com/300x200">
<img src="https://via.placeholder.com/300x200">
<img src="https://via.placeholder.com/300x200">
<img src="https://via.placeholder.com/300x200">
<img src="https://via.placeholder.com/300x200">
<img src="https://via.placeholder.com/300x200">
</div>
</section>

<!-- NEWS -->
<section id="news" class="news">
<h2>Announcements & News</h2>
<div id="newsBox">Loading...</div>
</section>

<!-- MAP -->
<section id="map" class="map-sec">
<h2>Our Location</h2>
<iframe src="https://www.google.com/maps?q=Mbeya%20Kyela%20njia%20panda%20ipinda%20nyuma%20ya%20Lake%20Oil&output=embed"
width="100%" height="250" style="border:0;" loading="lazy"></iframe>
</section>

<!-- CONTACT -->
<section id="contact" class="contact">
<h2>Contact Us</h2>
<p>
üìç Mbeya - Kyela, Njia Panda Ipinda  
<br>üìû +255(0)785705151  
<br>üìß kingdomcollege@gmail.com
</p>
</section>

<!-- FOOTER -->
<footer>
<p>¬© 2026 Kingdom College of Health & Allied Sciences</p>
<p>Developed by: <b>Irene üíô</b></p>
</footer>

<!-- LOGIN MODAL -->
<div class="modal" id="loginModal">
<div class="modal-content">
<span class="close-btn" id="closeModal">&times;</span>
<h3>Login</h3>
<input type="email" id="modalEmail" placeholder="Email">
<input type="password" id="modalPass" placeholder="Password">
<button id="modalLoginBtn">Log In</button>
</div>
</div>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAcL_PjNww-ea6d33irNgWbn1EsBq4acTA",
  authDomain: "collegeportal-app.firebaseapp.com",
  databaseURL: "https://collegeportal-app-default-rtdb.firebaseio.com",
  projectId: "collegeportal-app",
  storageBucket: "collegeportal-app.appspot.com",
  messagingSenderId: "266762331631",
  appId: "1:266762331631:web:66ddfbde53d33086ac421a"
};
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

// Load announcements
db.ref("announcements").on("value",snap=>{
  const newsBox=document.getElementById("newsBox");
  newsBox.innerHTML="";
  if(!snap.exists()){newsBox.innerHTML="No announcements yet."; return;}
  snap.forEach(item=>{
    const d=item.val();
    newsBox.innerHTML+=`<div class="announce"><b>${d.title}</b><br>${d.message}</div>`;
  });
});

// Load history
db.ref("college/history").on("value",snap=>{
  if(snap.exists()){document.getElementById("history").innerText=snap.val();}
});

// --- LOGIN HOOKS ---
let currentDashboard = "";
const modal = document.getElementById("loginModal");
const closeModal = document.getElementById("closeModal");
const modalLoginBtn = document.getElementById("modalLoginBtn");

function openLogin(dashboard){
  currentDashboard = dashboard;
  modal.style.display="flex";
}
closeModal.onclick = ()=>{modal.style.display="none";};
window.onclick = (e)=>{if(e.target==modal){modal.style.display="none";}};

modalLoginBtn.onclick = ()=>{
  const email = document.getElementById("modalEmail").value;
  const pass = document.getElementById("modalPass").value;
  if(!email || !pass){alert("Enter email & password"); return;}
  firebase.auth().signInWithEmailAndPassword(email,pass)
    .then((user)=>{
      alert("Login successful!");
      window.location.href=currentDashboard;
    })
    .catch(err=>{
      alert("Login failed: "+err.message);
    });
};

// Hook buttons to open modal with dashboard
document.getElementById("studentLoginBtn").onclick = ()=>openLogin("student.html");
document.getElementById("lecturerLoginBtn").onclick = ()=>openLogin("lecturer.html");
document.getElementById("academicsLoginBtn").onclick = ()=>openLogin("academics.html");
document.getElementById("bursarLoginBtn").onclick = ()=>openLogin("bursar.html");
document.getElementById("counsellorLoginBtn").onclick = ()=>openLogin("counsellor.html");
document.getElementById("registrarLoginBtn").onclick = ()=>openLogin("registrar.html");
document.getElementById("rectorLoginBtn").onclick = ()=>openLogin("rector.html");
</script>

</body>
</html>

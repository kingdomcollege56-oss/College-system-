<!DOCTYPE html>
<html lang="sw">
<head>
<meta charset="UTF-8">
<title>Kingdom College System</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{font-family:Arial;background:#f2f2f2;margin:0;}

header{
background:#0a3d62;color:white;padding:20px;text-align:center;
}

.container{max-width:1200px;margin:auto;padding:20px;}

.box{
background:white;padding:20px;border-radius:10px;
box-shadow:0 0 8px gray;max-width:400px;margin:20px auto;
}

input,textarea,select,button{
width:100%;padding:10px;margin:6px 0;
}

button{
background:#1e3799;color:white;border:none;border-radius:5px;
cursor:pointer;
}

button:hover{background:#4a69bd;}

.menu button{margin:3px;}

.section{
display:none;background:white;padding:15px;margin-top:10px;
border-radius:8px;
}

.card{
border:1px solid #ccc;padding:10px;margin:8px 0;border-radius:6px;
}

#studentDash,#adminDash,#teacherDash{display:none;}

</style>
</head>

<body>

<header>
<h2>Kingdom College Management System</h2>
</header>

<div class="container">

<!-- SELECT ROLE -->
<div id="selectBox" class="box">

<h3>Login As</h3>

<button onclick="openStudent()">Student</button>
<button onclick="openTeacher()">Teacher</button>
<button onclick="openAdmin()">Admin</button>

</div>

<!-- STUDENT -->
<div id="studentBox" class="box" style="display:none;">

<h3>Student</h3>

<input id="sr" placeholder="Reg Number">
<input id="sp" type="password" placeholder="Password">

<button onclick="studentLogin()">Login</button>

<hr>

<input id="sn" placeholder="Full Name">
<input id="sr2" placeholder="Reg Number">
<input id="sp2" type="password" placeholder="Password">

<button onclick="studentRegister()">Register</button>

<p id="smsg"></p>

</div>

<!-- TEACHER -->
<div id="teacherBox" class="box" style="display:none;">

<h3>Teacher Login</h3>

<input id="tr" placeholder="Username">
<input id="tp" type="password" placeholder="Password">

<button onclick="teacherLogin()">Login</button>

<hr>

<input id="tn" placeholder="Full Name">
<input id="ts" placeholder="Subject">
<input id="tr2" placeholder="Username">
<input id="tp2" type="password" placeholder="Password">

<button onclick="teacherRegister()">Register</button>

</div>

<!-- ADMIN -->
<div id="adminBox" class="box" style="display:none;">

<h3>Admin Login</h3>

<input id="au" placeholder="Username">
<input id="ap" type="password">

<button onclick="adminLogin()">Login</button>

</div>

<!-- STUDENT DASH -->
<div id="studentDash">

<h3>Student: <span id="sname"></span></h3>

<div class="menu">

<button onclick="show('sassign')">ğŸ“„ Assignments</button>
<button onclick="show('ssubmit')">ğŸ“¤ Submit</button>
<button onclick="show('smarks')">ğŸ“Š Results</button>
<button onclick="logout()">ğŸšª Logout</button>

</div>

<div id="sassign" class="section"></div>

<div id="ssubmit" class="section">

<h4>Submit Assignment</h4>

<select id="aslist"></select>

<textarea id="sanswer" placeholder="Your Answer"></textarea>

<button onclick="submitAssign()">Send</button>

</div>

<div id="smarks" class="section"></div>

</div>

<!-- TEACHER DASH -->
<div id="teacherDash">

<h3>Teacher: <span id="tname"></span></h3>

<div class="menu">

<button onclick="show('tassign')">ğŸ“ Create Assignment</button>
<button onclick="show('tsub')">ğŸ“¥ Submissions</button>
<button onclick="show('tmark')">ğŸ“Š Mark</button>
<button onclick="logout()">ğŸšª Logout</button>

</div>

<div id="tassign" class="section">

<input id="atitle" placeholder="Title">
<textarea id="adesc" placeholder="Description"></textarea>

<button onclick="createAssign()">Post</button>

</div>

<div id="tsub" class="section"></div>

<div id="tmark" class="section">

<select id="marklist"></select>
<input id="mark" placeholder="Marks">

<button onclick="saveMark()">Save</button>

</div>

</div>

<!-- ADMIN DASH -->
<div id="adminDash">

<h3>Admin Panel</h3>

<div class="menu">

<button onclick="show('ausers')">ğŸ‘¥ Users</button>
<button onclick="show('aresults')">ğŸ“Š All Results</button>
<button onclick="logout()">ğŸšª Logout</button>

</div>

<div id="ausers" class="section"></div>
<div id="aresults" class="section"></div>

</div>

</div>

<footer>
<p>Â© 2026 Kingdom College | By Carina</p>
</footer>

<script>

/* OPEN */
function openStudent(){hide();studentBox.style.display="block";}
function openTeacher(){hide();teacherBox.style.display="block";}
function openAdmin(){hide();adminBox.style.display="block";}
function hide(){
selectBox.style.display="none";
studentBox.style.display="none";
teacherBox.style.display="none";
adminBox.style.display="none";
}

/* STUDENT */
function studentRegister(){

let data=JSON.parse(localStorage.students||"[]");

data.push({
name:sn.value,
reg:sr2.value,
pass:sp2.value
});

localStorage.students=JSON.stringify(data);

alert("Registered");

}

function studentLogin(){

let data=JSON.parse(localStorage.students||"[]");

let u=data.find(x=>x.reg==sr.value && x.pass==sp.value);

if(!u){alert("Wrong");return;}

localStorage.user=JSON.stringify({type:"student",...u});

hideAll();studentDash.style.display="block";
sname.innerHTML=u.name;

loadAll();

}

/* TEACHER */
function teacherRegister(){

let data=JSON.parse(localStorage.teachers||"[]");

data.push({
name:tn.value,
subject:ts.value,
user:tr2.value,
pass:tp2.value
});

localStorage.teachers=JSON.stringify(data);

alert("Teacher Registered");

}

function teacherLogin(){

let data=JSON.parse(localStorage.teachers||"[]");

let u=data.find(x=>x.user==tr.value && x.pass==tp.value);

if(!u){alert("Wrong");return;}

localStorage.user=JSON.stringify({type:"teacher",...u});

hideAll();teacherDash.style.display="block";
tname.innerHTML=u.name+" ("+u.subject+")";

loadAll();

}

/* ADMIN */
function adminLogin(){

if(au.value=="admin" && ap.value=="1234"){

localStorage.user=JSON.stringify({type:"admin"});

hideAll();adminDash.style.display="block";

loadAll();

}else alert("Wrong");

}

/* LOGOUT */
function logout(){
localStorage.removeItem("user");
location.reload();
}

/* HIDE ALL */
function hideAll(){

studentDash.style.display="none";
teacherDash.style.display="none";
adminDash.style.display="none";
selectBox.style.display="none";
studentBox.style.display="none";
teacherBox.style.display="none";
adminBox.style.display="none";

}

/* SHOW */
function show(id){

document.querySelectorAll(".section")
.forEach(x=>x.style.display="none");

document.getElementById(id).style.display="block";

}

/* ASSIGNMENTS */
function createAssign(){

let u=JSON.parse(localStorage.user);

let data=JSON.parse(localStorage.assign||"[]");

data.push({
id:Date.now(),
title:atitle.value,
desc:adesc.value,
teacher:u.name,
subject:u.subject
});

localStorage.assign=JSON.stringify(data);

alert("Posted");

loadAll();

}

function loadAssign(){

let data=JSON.parse(localStorage.assign||"[]");

let html="";

data.forEach(a=>{

html+=`
<div class="card">
<b>${a.title}</b> (${a.subject})<br>
${a.desc}<br>
By: ${a.teacher}
</div>`;

});

sassign.innerHTML=html;

let opt="";

data.forEach(a=>{
opt+=`<option value="${a.id}">${a.title}</option>`;
});

aslist.innerHTML=opt;

}

/* SUBMIT */
function submitAssign(){

let u=JSON.parse(localStorage.user);

let data=JSON.parse(localStorage.subs||"[]");

data.push({
aid:aslist.value,
reg:u.reg,
name:u.name,
answer:sanswer.value
});

localStorage.subs=JSON.stringify(data);

alert("Submitted");

}

/* SUBMISSIONS */
function loadSubs(){

let data=JSON.parse(localStorage.subs||"[]");

let html="";

data.forEach(s=>{

html+=`
<div class="card">
${s.name} (${s.reg})<br>
${s.answer}
</div>`;

});

tsub.innerHTML=html;

}

/* MARK */
function loadMark(){

let data=JSON.parse(localStorage.subs||"[]");

let opt="";

data.forEach(s=>{

opt+=`<option value="${s.reg}|${s.aid}">
${s.name} (${s.reg})
</option>`;
});

marklist.innerHTML=opt;

}

function saveMark(){

let [reg,aid]=marklist.value.split("|");

let data=JSON.parse(localStorage.marks||"[]");

data.push({
reg,aid,mark:mark.value
});

localStorage.marks=JSON.stringify(data);

alert("Saved");

}

/* RESULTS */
function loadResults(){

let u=JSON.parse(localStorage.user);

let data=JSON.parse(localStorage.marks||"[]");

let html="";

data.filter(x=>x.reg==u.reg)
.forEach(r=>{

html+=`
<div class="card">
Assignment: ${r.aid}<br>
Marks: ${r.mark}
</div>`;

});

smarks.innerHTML=html;

}

/* ADMIN */
function loadUsers(){

let s=JSON.parse(localStorage.students||"[]");
let t=JSON.parse(localStorage.teachers||"[]");

let html="<h4>Students</h4>";

s.forEach(x=>html+=x.name+"<br>");

html+="<h4>Teachers</h4>";

t.forEach(x=>html+=x.name+" ("+x.subject+")<br>");

ausers.innerHTML=html;

}

function loadAllResults(){

let d=JSON.parse(localStorage.marks||"[]");

let html="";

d.forEach(r=>{

html+=`
<div class="card">
${r.reg} - ${r.aid} : ${r.mark}
</div>`;

});

aresults.innerHTML=html;

}

/* LOAD */
function loadAll(){

loadAssign();
loadSubs();
loadMark();
loadResults();
loadUsers();
loadAllResults();

}

</script>

</body>
  </html>

<!DOCTYPE html>
<html lang="sw">
<head>
<meta charset="UTF-8">
<title>Kingdom College System</title>

<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{
font-family:Arial;
margin:0;
background:#f2f2f2;
}

header{
background:#0a3d62;
color:white;
padding:20px;
text-align:center;
}

.container{
max-width:1000px;
margin:auto;
padding:20px;
}

/* BOX */
.box{
background:white;
padding:20px;
border-radius:10px;
box-shadow:0 0 8px gray;
margin:20px auto;
max-width:400px;
}

input,button{
width:100%;
padding:10px;
margin:6px 0;
}

button{
background:#1e3799;
color:white;
border:none;
border-radius:5px;
cursor:pointer;
}

button:hover{
background:#4a69bd;
}

/* DASHBOARD */
#studentDash,#adminDash{
display:none;
}

/* MENU */
.menu button{
margin:4px 0;
}

.section{
display:none;
background:white;
padding:15px;
margin-top:10px;
border-radius:8px;
}

.card{
border:1px solid #ccc;
padding:10px;
margin:8px 0;
border-radius:5px;
}

</style>
</head>

<body>

<header>
<h2>Kingdom College Management System</h2>
</header>

<div class="container">

<!-- STUDENT REGISTER -->
<div id="registerBox" class="box">

<h3>Student Registration</h3>

<input id="rname" placeholder="Full Name">
<input id="rreg" placeholder="Reg Number">
<input id="rpass" type="password" placeholder="Password">

<button onclick="register()">Register</button>

<p id="rmsg"></p>

<hr>

<p>Already have account?</p>
<button onclick="showLogin()">Login</button>

</div>

<!-- STUDENT LOGIN -->
<div id="loginBox" class="box" style="display:none;">

<h3>Student Login</h3>

<input id="lreg" placeholder="Reg Number">
<input id="lpass" type="password" placeholder="Password">

<button onclick="login()">Login</button>

<p id="lmsg"></p>

<hr>

<button onclick="showRegister()">Register</button>

</div>

<!-- STUDENT DASHBOARD -->
<div id="studentDash">

<h3>Welcome, <span id="sname"></span></h3>

<div class="menu">

<button onclick="showSec('news')">ðŸ“¢ News</button>
<button onclick="showSec('transfer')">ðŸ“¤ Transfer</button>
<button onclick="showSec('ethics')">ðŸ”’ Ethics</button>
<button onclick="showSec('sports')">âš½ Sports</button>
<button onclick="logout()">ðŸšª Logout</button>

</div>

<!-- NEWS -->
<div id="news" class="section">
<h3>Announcements</h3>
<div id="newsList"></div>
</div>

<!-- TRANSFER -->
<div id="transfer" class="section">

<h3>Request Transfer</h3>

<input id="tcollege" placeholder="New College">

<textarea id="treason" placeholder="Reason"></textarea>

<button onclick="sendTransfer()">Send</button>

<p id="tmsg"></p>

</div>

<!-- ETHICS -->
<div id="ethics" class="section">

<h3>Private Ethics Room</h3>

<textarea id="emsg" placeholder="Confidential message"></textarea>

<button onclick="sendEthics()">Send</button>

<div id="elist"></div>

</div>

<!-- SPORTS -->
<div id="sports" class="section">

<h3>Sports & Games</h3>

<div id="slist"></div>

</div>

</div>

</div>

<footer>
<p>Â© 2026 Kingdom College | By Carina</p>
</footer>

<script>

/* REGISTER */
function register(){

let name=rname.value;
let reg=rreg.value;
let pass=rpass.value;

if(!name||!reg||!pass){
rmsg.innerHTML="Fill all fields";
return;
}

let users=JSON.parse(localStorage.users||"[]");

if(users.find(u=>u.reg==reg)){
rmsg.innerHTML="Reg number exists";
return;
}

users.push({name,reg,pass});

localStorage.users=JSON.stringify(users);

rmsg.innerHTML="Registered successfully";

}

/* LOGIN */
function login(){

let reg=lreg.value;
let pass=lpass.value;

let users=JSON.parse(localStorage.users||"[]");

let u=users.find(x=>x.reg==reg && x.pass==pass);

if(!u){
lmsg.innerHTML="Wrong login";
return;
}

localStorage.currentUser=JSON.stringify(u);

loginBox.style.display="none";
registerBox.style.display="none";
studentDash.style.display="block";

sname.innerHTML=u.name;

loadData();

}

/* LOGOUT */
function logout(){

localStorage.removeItem("currentUser");
location.reload();

}

/* SWITCH */
function showLogin(){
registerBox.style.display="none";
loginBox.style.display="block";
}

function showRegister(){
loginBox.style.display="none";
registerBox.style.display="block";
}

/* SHOW SECTION */
function showSec(id){

document.querySelectorAll(".section")
.forEach(s=>s.style.display="none");

document.getElementById(id).style.display="block";

}

/* LOAD SESSION */
function loadData(){

let u=JSON.parse(localStorage.currentUser||"null");

if(u){

registerBox.style.display="none";
loginBox.style.display="none";
studentDash.style.display="block";

sname.innerHTML=u.name;

}

}

/* TRANSFER */
function sendTransfer(){

let u=JSON.parse(localStorage.currentUser);

let data=JSON.parse(localStorage.transfer||"[]");

data.unshift({
name:u.name,
reg:u.reg,
college:tcollege.value,
reason:treason.value,
date:new Date().toLocaleString()
});

localStorage.transfer=JSON.stringify(data);

tmsg.innerHTML="Sent successfully";

}

/* ETHICS */
function sendEthics(){

let u=JSON.parse(localStorage.currentUser);

let data=JSON.parse(localStorage.ethics||"[]");

data.unshift({
from:u.reg,
msg:emsg.value,
date:new Date().toLocaleString()
});

localStorage.ethics=JSON.stringify(data);

emsg.value="";

loadEthics();

}

function loadEthics(){

let data=JSON.parse(localStorage.ethics||"[]");

let html="";

data.forEach(e=>{

html+=`
<div class="card">
<small>${e.date}</small>
<p>${e.msg}</p>
</div>`;

});

elist.innerHTML=html;

}

/* SPORTS */
function loadSports(){

let data=JSON.parse(localStorage.sports||"[]");

let html="";

data.forEach(s=>{

html+=`
<div class="card">
<h4>${s.title}</h4>
<small>${s.date}</small>
<p>${s.desc}</p>
</div>`;

});

slist.innerHTML=html;

}

/* INIT */
loadData();
loadEthics();
loadSports();

</script>

</body>
</html>
